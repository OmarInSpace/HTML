<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Teks Berjalan & Terminal Programmer</title>
  <style>
    :root{
      --bg: #0b0f14;
      --panel: #0f151c;
      --text: #e5eef7;
      --muted: #9fb3c8;
      --accent: #3ee6a5;
      --accent-2: #7aa7ff;
    }
    * { box-sizing: border-box; }
    html, body { height: 100%; }
    body {
      margin: 0; background: var(--bg); color: var(--text);
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      overflow: hidden; /* biar fokus ke efek */
    }

    /* ===== Marquee / Teks Berjalan ===== */
    .marquee-wrap {
      position: fixed; top: 0; left: 0; width: 100%; height: 42px;
      background: linear-gradient(90deg, rgba(62,230,165,0.08), rgba(122,167,255,0.08));
      border-bottom: 1px solid rgba(255,255,255,0.06);
      overflow: hidden; z-index: 3;
      backdrop-filter: blur(4px);
    }
    .marquee {
      display: inline-flex; white-space: nowrap; align-items: center; gap: 32px;
      padding-left: 100%; /* start off screen */
      animation: scroll 18s linear infinite;
      font-size: 14px; color: var(--muted); height: 42px; line-height: 42px;
    }
    .marquee b{ color: var(--accent); }
    @keyframes scroll {
      0% { transform: translateX(0); }
      100% { transform: translateX(-100%); }
    }

    /* ===== Layout ===== */
    .container {
      position: relative; height: 100%; width: 100%; display: grid;
      place-items: center; padding: 72px 24px 24px; /* top space for marquee */
    }

    /* ===== Terminal Card ===== */
    .card {
      position: relative; width: min(980px, 92vw); height: min(520px, 72vh);
      background: radial-gradient(1200px 800px at 20% -20%, rgba(62,230,165,0.08), transparent),
                  radial-gradient(1000px 700px at 120% 120%, rgba(122,167,255,0.08), transparent),
                  var(--panel);
      border: 1px solid rgba(255,255,255,0.06);
      border-radius: 20px; box-shadow: 0 20px 50px rgba(0,0,0,0.35);
      overflow: hidden; z-index: 2;
    }
    .card .titlebar{
      height: 44px; display: flex; align-items: center; gap: 10px; padding: 0 14px;
      border-bottom: 1px solid rgba(255,255,255,0.06);
      background: linear-gradient(180deg, rgba(255,255,255,0.04), rgba(255,255,255,0.02));
    }
    .dots{ display: inline-flex; gap: 8px; margin-right: 10px; }
    .dot{ width: 12px; height: 12px; border-radius: 999px; }
    .dot.red{ background: #ff5f57; }
    .dot.yellow{ background: #febc2e; }
    .dot.green{ background: #28c840; }
    .titlebar .path{ color: var(--muted); font-size: 13px; }

    .screen{ position: absolute; inset: 44px 0 0 0; padding: 18px 16px 24px; overflow: auto; }
    .line{ display: block; padding: 2px 0; }
    .prompt{ color: var(--accent); }
    .cmd{ color: var(--text); }
    .output{ color: var(--muted); }
    .caret{ display: inline-block; width: 9px; height: 16px; background: var(--text); margin-left: 2px; animation: blink 1s steps(1) infinite; }
    @keyframes blink { 50% { opacity: 0; } }

    /* ===== Floating Badge ===== */
    .badge{
      position: absolute; bottom: 14px; right: 14px; padding: 10px 12px; border-radius: 12px;
      border: 1px solid rgba(255,255,255,0.06); color: var(--muted); font-size: 12px;
      background: rgba(11,15,20,0.5); backdrop-filter: blur(4px);
    }

    /* ===== Canvas Code Rain (ringan) ===== */
    canvas#rain{ position: fixed; inset: 0; z-index: 1; opacity: 0.28; pointer-events: none; }

    /* ===== Controls ===== */
    .controls{
      position: fixed; bottom: 16px; left: 16px; z-index: 3;
      display: flex; gap: 8px; align-items: center;
      background: rgba(15,21,28,0.6); border: 1px solid rgba(255,255,255,0.06);
      backdrop-filter: blur(6px); padding: 8px 10px; border-radius: 12px; color: var(--muted);
      font-size: 12px;
    }
    .controls input[type="range"]{ accent-color: var(--accent); }
    .btn{ cursor: pointer; border: 1px solid rgba(255,255,255,0.08); background: #0c1218; color: var(--text);
      padding: 6px 10px; border-radius: 10px; font-size: 12px; }
    .btn:hover{ border-color: rgba(255,255,255,0.2); }
  </style>
</head>
<body>
  <!-- Teks berjalan -->
  <div class="marquee-wrap" aria-hidden="true">
    <div class="marquee">
      <span><b>BUILD</b> Â· Belajar â€¢ Latihan â€¢ Konsisten â€¢ Berdoa</span>
      <span>git push origin <b>main</b> â€” Keep shipping!</span>
      <span>"Code is like humor. When you have to explain it, itâ€™s bad."</span>
      <span>Semoga jadi <b>Programmer Besar</b> ðŸš€</span>
      <span><b>BUILD</b> Â· Belajar â€¢ Latihan â€¢ Konsisten â€¢ Berdoa</span>
      <span>git push origin <b>main</b> â€” Keep shipping!</span>
      <span>"Code is like humor. When you have to explain it, itâ€™s bad."</span>
      <span>Semoga jadi <b>Programmer Besar</b> ðŸš€</span>
    </div>
  </div>

  <!-- Canvas efek hujan karakter -->
  <canvas id="rain"></canvas>

  <!-- Terminal -->
  <div class="container">
    <div class="card" role="region" aria-label="Terminal Simulator">
      <div class="titlebar">
        <div class="dots">
          <span class="dot red"></span>
          <span class="dot yellow"></span>
          <span class="dot green"></span>
        </div>
        <span class="path">~/projects/programmer-besar</span>
      </div>
      <div id="screen" class="screen" aria-live="polite"></div>
      <div class="badge">Mode Demo Â· tekan "â–¶ Jalankan" untuk mulai</div>
    </div>
  </div>

  <!-- Kontrol -->
  <div class="controls">
    <button id="run" class="btn">â–¶ Jalankan</button>
    <button id="clear" class="btn">âŸ² Bersihkan</button>
    <label>Kecepatan
      <input id="speed" type="range" min="1" max="5" step="1" value="3"/>
    </label>
  </div>

  <script>
    // ===== Terminal Typewriter =====
    const lines = [
      { type: 'cmd', text: 'echo "Bismillah, mulai ngoding."' },
      { type: 'out', text: 'Bismillah, mulai ngoding.' },
      { type: 'cmd', text: 'mkdir programmer-besar && cd programmer-besar' },
      { type: 'cmd', text: 'git init && git remote add origin git@github.com:me/programmer-besar.git' },
      { type: 'cmd', text: 'npm create vite@latest . -- --template vanilla' },
      { type: 'out', text: 'Scaffolding project in ./ ...' },
      { type: 'cmd', text: 'code .' },
      { type: 'cmd', text: 'npm install && npm run dev' },
      { type: 'out', text: 'VITE v5  ready in 500ms  âžœ  Local: http://localhost:5173' },
      { type: 'cmd', text: 'git add -A && git commit -m "feat: first ship" && git push -u origin main' },
      { type: 'out', text: 'Everything up-to-date. Keep shipping ðŸš€' },
    ];

    const screen = document.getElementById('screen');
    let queue = [];
    let typing = false;

    function appendLine(prefix, content, cls='cmd'){
      const line = document.createElement('div');
      line.className = 'line ' + cls;
      if (cls === 'cmd') {
        line.innerHTML = `<span class="prompt">âžœ</span> <span class="cmd">${content}</span><span class="caret"></span>`;
      } else {
        line.innerHTML = `<span class="output">${content}</span>`;
      }
      screen.appendChild(line);
      screen.scrollTop = screen.scrollHeight;
      return line;
    }

    function typeLine(obj, speed){
      return new Promise(resolve => {
        if (obj.type === 'out'){
          appendLine('', obj.text, 'output');
          return resolve();
        }
        const line = document.createElement('div');
        line.className = 'line cmd';
        const prompt = document.createElement('span'); prompt.className = 'prompt'; prompt.textContent = 'âžœ ';
        const cmd = document.createElement('span'); cmd.className = 'cmd'; cmd.textContent = '';
        const caret = document.createElement('span'); caret.className = 'caret';
        line.append(prompt, cmd, caret);
        screen.appendChild(line);
        screen.scrollTop = screen.scrollHeight;

        let i = 0;
        const interval = setInterval(() => {
          cmd.textContent += obj.text[i++];
          if (i >= obj.text.length){
            clearInterval(interval);
            caret.remove();
            resolve();
          }
        }, Math.max(20, 120 - speed * 20));
      });
    }

    async function runDemo(){
      if (typing) return;
      typing = true; queue = [...lines];
      const speed = +document.getElementById('speed').value;
      for (const l of queue){
        // slight natural delay
        await new Promise(r => setTimeout(r, 120 + Math.random()*220));
        await typeLine(l, speed);
      }
      typing = false;
    }

    document.getElementById('run').addEventListener('click', runDemo);
    document.getElementById('clear').addEventListener('click', () => {
      screen.innerHTML = '';
    });

    // ===== Code Rain (Matrix lite) =====
    const canvas = document.getElementById('rain');
    const ctx = canvas.getContext('2d');
    let w, h, columns, fontSize = 16, drops = [];
    const chars = '01abcdefXYZ#$%&+=-';

    function resize(){
      w = canvas.width = window.innerWidth;
      h = canvas.height = window.innerHeight;
      columns = Math.floor(w / fontSize);
      drops = new Array(columns).fill(0).map(() => Math.random()*h);
    }
    window.addEventListener('resize', resize);
    resize();

    function draw(){
      ctx.fillStyle = 'rgba(11,15,20,0.15)';
      ctx.fillRect(0,0,w,h);
      ctx.fillStyle = 'rgba(62,230,165,0.75)';
      ctx.font = fontSize + 'px monospace';
      for (let i = 0; i < drops.length; i++){
        const text = chars[Math.floor(Math.random()*chars.length)];
        ctx.fillText(text, i*fontSize, drops[i]*fontSize);
        if (drops[i]*fontSize > h && Math.random() > 0.975) drops[i] = 0;
        drops[i]++;
      }
      requestAnimationFrame(draw);
    }
    draw();
  </script>
</body>
</html>
